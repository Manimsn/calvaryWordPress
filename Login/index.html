<!-- Modal + Backdrop -->

<div class="modalContent">

    <div class="loginForm" id="loginForm">
        <!-- Logo (Replace logo.png with your own) -->
        <div style="text-align: center; margin-bottom: 1rem;">
            <img src="https://calvary2024stg.wpenginepowered.com/wp-content/uploads/2024/08/CalvaryLogo_Suncross_White.png"
                alt="Logo" />
        </div>
        <h2 style="font-family: 'Poppins', sans-serif !important;">Welcome!</h2>

        <form class="inputWrapper" onsubmit="handleLogin();return false">
            <div class="inputField">
                <label for="login" style="margin-bottom: 8px; font-family: 'Poppins', sans-serif !important;">Type in your phone number or email to continue.</label>
                <!-- Input -->
                <input id="loginInput" style="font-family: 'Poppins', sans-serif !important;" type="text" placeholder="Phone or email address" oninput="validateInput()" onblur="onBlurvalidatePhone()" />
                <!-- Error Message -->
                <div id="inputError" style="font-family: 'Poppins', sans-serif !important;"></div>
            </div>
            <!-- Continue Button -->
            <button id="continueButton" style="font-family: 'Poppins', sans-serif !important;" disabled>CONTINUE</button>
        </form>
    </div>

    <div id="otpSection" style="display: none; flex-direction: column; gap: 24px;">
        <div class="otpHeader" style="display: flex; align-items: center; gap: 32px;">
            <span id="otpBackArrow" onclick="showLoginForm()" tabindex="0" onkeydown="checkshowLoginForm(event)"
                style="cursor: pointer; font-size: 24px; align-self: flex-start">←</span>
             <p id="otpText" style="margin: 0; color: white; font-size: 20px; font-family: 'Poppins', sans-serif !important;">Enter the code sent to 
                <span><a id="userValueDisplay"  style="font-weight: bold; color: #005B78; word-break: break-word; font-family: 'Poppins', sans-serif !important; pointer-events: none; cursor: default;" href="#"></a></span>
            </p>
        </div>

        <!-- OTP Boxes aligned-->
        <div id="otpWrapper"
            style="display: flex; flex-direction: column; align-items: start; gap: 6px; margin-left: 52px;">
            <div style="display: flex; flex-direction: column; align-items: flex-end;">
                <div id="otpBoxes" style="display: flex; gap: 8px;">
                    <input maxlength="1" type="number" min="0" max="9" class="otpInputBox no-spinner" />
                    <input maxlength="1" type="number" min="0" max="9" class="otpInputBox no-spinner" />
                    <input maxlength="1" type="number" min="0" max="9" class="otpInputBox no-spinner" />
                    <input maxlength="1" type="number" min="0" max="9" class="otpInputBox no-spinner" />
                    <input maxlength="1" type="number" min="0" max="9" class="otpInputBox no-spinner" />
                    <input maxlength="1" type="number" min="0" max="9" class="otpInputBox no-spinner" />
                </div>
                <div id="otpResendSection"
                    style="display: flex; align-items: flex-end; justify-content: space-between; width: 100%">
                    <a id="resetCodeLink" onclick="resendOtp()" href="#"
                        style="margin-top: 8px; color: white; font-size: 14px; margin-left: auto; min-width: fit-content; align-self: flex-start; order: 2; font-family: 'Poppins', sans-serif !important;">
                        Resend Code
                    </a>
                </div>
            </div>
        </div>

        <button id="signInButton" onclick="verifyOtp()" type="submit" disabled style="font-family: 'Poppins', sans-serif !important;">
            SIGN IN
        </button>
    </div>

    <!-- ------------------------------------ SING UP START ------------------------------------ -->
    <!-- ------------------------------------ SING UP FIRST SECTION ------------------------------------ -->
    <div id="signupSection" class="loginForm" style="display: none; flex-direction: column;">
        <h5 style="font-family: 'Poppins', sans-serif !important;">You're almost there – just a few more details to login!</h5>

        <form onsubmit="submitSignup(event)"
            style="display: flex; flex-direction: column; gap: 24px; width: 100%; align-items: center;">
            <div class="form-row">
                <div class="inputField">
                    <label for="firstName" style="font-family: 'Poppins', sans-serif !important;">First Name*</label>
                    <input id="firstNameInput" style="font-family: 'Poppins', sans-serif !important;" type="text" placeholder="First Name" oninput="validateFirstName()" />
                    <div id="inputErrorFirstName" style="font-family: 'Poppins', sans-serif !important;"></div>
                    <!-- You’ve reached the 25-character limit -->
                </div>
                <div class="lastinputField">
                    <label for="lastName" style="font-family: 'Poppins', sans-serif !important;">Last Name*</label>
                    <input id="lastNameInput" style="font-family: 'Poppins', sans-serif !important;" type="text" placeholder="Last Name" oninput="validateLastName()" />
                    <div id="inputErrorLastName" style="font-family: 'Poppins', sans-serif !important;"></div>
                </div>
            </div>

            <div class="inputField">
                <label for="signupemail" style="font-family: 'Poppins', sans-serif !important;">Email Address*</label>
                <input id="emailInput" style="font-family: 'Poppins', sans-serif !important;" type="email" placeholder="sampleuser@yourdomain.com"
                    oninput="validateSignupInput()" />
                <div id="inputErrorEmail" style="font-family: 'Poppins', sans-serif !important;">
                </div>
            </div>

            <button id="signUpButton" class="cta-button" style="font-family: 'Poppins', sans-serif !important;" disabled>CONTINUE</button>
        </form>
    </div>

    <!-- ------------------------------------ OTP SECTION START ------------------------------------ -->
    <div id="signupotpSection" style="display: none; flex-direction: column; gap: 24px;">
        <div class="otpHeader" style="display: flex; align-items: center; gap: 32px;">
            <span id="signupotpBackArrow" onclick="showSignupForm()" tabindex="0" onkeydown="checkshowSignupForm(event)"
                style="cursor: pointer; font-size: 24px; align-self: flex-start">←</span>
            <p id="otpText" style="margin: 0; color: white; font-size: 20px; font-family: 'Poppins', sans-serif !important;">Enter the code sent to <span
                    id="signupUserValueDisplay"
                    style="font-weight: bold; color: #005B78; word-break: break-word; font-family: 'Poppins', sans-serif !important;"></span></p>
        </div>

        <!-- OTP Boxes aligned-->
        <div id="otpWrapper"
            style="display: flex; flex-direction: column; align-items: start; gap: 6px; margin-left: 52px;">
            <div style="display: flex; flex-direction: column; align-items: flex-end;">
                <div id="otpBoxes" style="display: flex; gap: 8px;">
                    <input maxlength="1" type="number" min="0" max="9" class="signupotpInputBox no-spinner" />
                    <input maxlength="1" type="number" min="0" max="9" class="signupotpInputBox no-spinner" />
                    <input maxlength="1" type="number" min="0" max="9" class="signupotpInputBox no-spinner" />
                    <input maxlength="1" type="number" min="0" max="9" class="signupotpInputBox no-spinner" />
                    <input maxlength="1" type="number" min="0" max="9" class="signupotpInputBox no-spinner" />
                    <input maxlength="1" type="number" min="0" max="9" class="signupotpInputBox no-spinner" />
                </div>
                <div id="signupotpResendSection"
                    style="display: flex; align-items: flex-end; justify-content: space-between; width: 100%">
                    <a id="signupResetCodeLink" onclick="resendSignUpOtp()" href="#"
                        style="margin-top: 8px; color: white; font-size: 14px; margin-left: auto; min-width: fit-content; align-self: flex-start; order: 2; font-family: 'Poppins', sans-serif !important;">
                        Resend Code
                    </a>
                </div>
            </div>
        </div>

        <button id="signupOTPButton" onclick="verifySingupOtp()" disabled style="font-family: 'Poppins', sans-serif !important;">
            SIGN IN
        </button>
    </div>
    <!-- ------------------------------------ SING UP END ------------------------------------ -->
    <!-- ------------------------------------ SECONDARY CONTACT FOR BOTH LOGIN & SIGN UP------------------------------------ -->

    <form class="secondaryContactForm" id="secondaryContactForm" style="display: none; flex-direction: column;" onsubmit="verifySecondaryContact();return false">
        <div id="secondaryContactMessage">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="49" viewBox="0 0 48 49" fill="none">
                <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M24 41.3C33.2783 41.3 40.7999 33.7784 40.7999 24.5C40.7999 15.2216 33.2783 7.7 24 7.7C14.7216 7.7 7.19995 15.2216 7.19995 24.5C7.19995 33.7784 14.7216 41.3 24 41.3ZM31.7849 21.7849C32.605 20.9648 32.605 19.6352 31.7849 18.8151C30.9648 17.995 29.6351 17.995 28.815 18.8151L21.9 25.7301L19.1849 23.0151C18.3648 22.195 17.0351 22.195 16.215 23.0151C15.3949 23.8352 15.3949 25.1648 16.215 25.9849L20.415 30.1849C21.2351 31.005 22.5648 31.005 23.3849 30.1849L31.7849 21.7849Z"
                    fill="#16A34A"></path>
            </svg>
            <p id="secondaryContactSuccess" style="font-family: 'Poppins', sans-serif !important;"> You've logged in!</p>
        </div>

        <div class="inputWrapper">
            <div class="inputField">
                <label for="secondaryContact" id="secondaryContactLabel" style="font-family: 'Poppins', sans-serif !important;">Do you want to add your <span class="Phone_Email" style="font-family: 'Poppins', sans-serif !important;"></span>?</label>
                <!-- Input -->
                <input id="secondaryContactInputEmail" type="email"
                    style="display: none; font-family: 'Poppins', sans-serif !important;" placeholder="sampleuser@yourdomain.com" oninput="validateInputEmail()" />
                <input id="secondaryContactInputPhone" class="no-spinner"  type="tel" pattern="[0-9\-]*" inputmode="numeric"
                    style="display: none; font-family: 'Poppins', sans-serif !important;" placeholder="999-999-9999" oninput="validateInputPhone()" />
                <!-- Error Message -->
                <div id="inputErrorSecondary" style="font-family: 'Poppins', sans-serif !important;"></div>
            </div>
        </div>
        <div style="align-self: flex-end; margin-top: 24px;">
            <button id="addButton" type="submit" style="font-family: 'Poppins', sans-serif !important;" disabled>
                ADD <span class="Phone_Email" style="font-family: 'Poppins', sans-serif !important;"></span>
            </button>
            <button id="skipButton" style="font-family: 'Poppins', sans-serif !important;" onclick="closeModal()">
                SKIP
            </button>
        </div>
    </form>

    <div id="secondaryotpSection" style="display: none; flex-direction: column; gap: 24px;">
        <div class="otpHeader" style="display: flex; align-items: center; gap: 32px;">
            <span id="secondaryotpBackArrow" onclick="showAddSecondaryContactForm()" tabindex="0" onkeydown="checkshowAddSecondaryContactForm(event)"
                style="cursor: pointer; font-size: 24px; align-self: flex-start">←</span>
            <p id="otpText" style="margin: 0; color: white; font-size: 20px; font-family: 'Poppins', sans-serif !important;">Enter the code sent to <span
                    id="secondaryValueDisplay"
                    style="font-weight: bold; color: #005B78; word-break: break-word; font-family: 'Poppins', sans-serif !important;"></span></p>
        </div>

        <!-- OTP Boxes aligned-->
        <div id="otpWrapper"
            style="display: flex; flex-direction: column; align-items: start; gap: 6px; margin-left: 52px;">
            <div style="display: flex; flex-direction: column; align-items: flex-end;">
                <div id="otpBoxes" style="display: flex; gap: 8px;">
                    <input maxlength="1" type="number" min="0" max="9" class="secondaryotpInputBox no-spinner" />                    
                    <input maxlength="1" type="number" min="0" max="9" class="secondaryotpInputBox no-spinner" />
                    <input maxlength="1" type="number" min="0" max="9" class="secondaryotpInputBox no-spinner" />
                    <input maxlength="1" type="number" min="0" max="9" class="secondaryotpInputBox no-spinner" />
                    <input maxlength="1" type="number" min="0" max="9" class="secondaryotpInputBox no-spinner" />
                    <input maxlength="1" type="number" min="0" max="9" class="secondaryotpInputBox no-spinner" />
                    
                </div>
                <div id="secondaryLoginotpResendSection"
                    style="display: flex; align-items: flex-end; justify-content: space-between; width: 100%">
                    <a id="secondaryLoginresetCodeLink" onclick="resendSecondaryLoginOtp()" href="#"
                        style="margin-top: 8px; color: white; font-size: 14px; margin-left: auto; min-width: fit-content; align-self: flex-start; order: 2; font-family: 'Poppins', sans-serif !important;">
                        Resend Code
                    </a>
                </div>
            </div>
        </div>

        <button id="secondaryOTPButton" onclick="secodaryLoginverifyOtp()" disabled style="font-family: 'Poppins', sans-serif !important;">
            VERIFY
        </button>
    </div>
    <!--  secondary otp done -->

    <!-- Success Modal -->
    <div id="successModal" style="display: none; flex-direction: column; align-items: center; text-align: center;">
        <img src="https://calvary2024stg.wpenginepowered.com/wp-content/uploads/2025/07/Congratulations.png"  alt="Congratulations" style="margin-bottom: 12px;"/>
        <h3 id="successTitle" style="display: none; color: white; font-size: 32px; font-family: 'Poppins', sans-serif !important; font-weight: 600; line-height: 40px; padding-bottom: 0;">
            Congratulations!
        </h3>
        <h4 id="successMessage" style="color: white; font-size: 28px; font-family: 'Poppins', sans-serif !important; font-weight: 500; line-height: 36px;">
            You've successfully updated your information.
        </h4>
    </div>

</div>